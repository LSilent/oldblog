<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>'$2>>$path"/index.mkd";</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="./static/style.css" type="text/css" media="screen" charset="utf-8">
<link rel="stylesheet" href="./static/github-code-style.css" type="text/css" media="screen" charset="utf-8">
<script type="text/javascript">
function pagenum()
{
	return parseInt(pagename());
}
function pagename()
{
	var str=window.location.href;
	 return str.slice(str.lastIndexOf('/')+1,str.lastIndexOf('.'));
}
function gotopre()
{
	var name=pagename();
	if(name=='index')
	{
		alert('No Pre Page!');
		return false;
	}
	var n=parseInt(name);
	location.href=(n==2)?'index.html':n-1+'.html';
}
function gotonext()
{
	var name=pagename();
	var link=(name=='index')?'2.html':parseInt(name)+1+'.html';
	// Through ajax to know if link exists 
	var xmlhttp=new XMLHttpRequest();
	xmlhttp.onreadystatechange=function()
	{
		if (xmlhttp.readyState==4 && xmlhttp.status==404)
		{
			alert('No Next Page!');
			return false;
		}
		if (xmlhttp.readyState==4 && xmlhttp.status==200)
		{
			location.href=link;
		}
	}
	xmlhttp.open("GET",link,true);
	xmlhttp.send();
}
function path()
{
	var args = arguments,
		result = []
			;

	for(var i = 0; i < args.length; i++)
		result.push(args[i].replace('@', '%root_path%scripts/'));

	return result
};
</script>
</head>
<body>
<div id="top">
<div id="top1">
<a href="/index.html">Hit9</a>
<a href="/blog/index.html">Blog</a>
<a href="/wiki/index.html">Wiki</a>
<a href="/project/index.html">Project</a>
<a href="/links.html">Links</a>
<a href="/About.html" rel="author">About</a>
</div>
<div id="top2">
Page:
<a href="index.html">First</a>
<a href="../index.html">UP</a>
<a href="javascript:void(0);" onclick="gotopre();">Pre</a>
<a href="javascript:void(0);" onclick="gotonext()">Next</a>
<a href="javascript:void(0);" onclick="history.go(-1);">Back</a>
</div>
</div>
<h1>'$2>>$path"/index.mkd";</h1>
<h1 id="binbash">!/bin/bash</h1>
<p>helpinfo()
{
    echo "mention:your source file's ext must be .mkd";
    echo 'options:';
    echo '  push';
    echo '  clean';
    echo '  cate <cate-name>';
    echo '  post <cate-name> <post-name> ';
    echo '  rm cate <cate-name>';
    echo '  rm post <cate-post>';
}
wiki_dir=./
html_dir=../
case $1 in
    push)
        mkdwiki . -o ../
        git add ../<em>
        git commit -m 'mkdwiki'
        git push
        ;;<br />
    clean)
        if [-d ".mkdwiki.cache~"]
        then
            rm $wiki_dir".mkdwiki.cache~"
            echo 'done.'
        fi
        ;;
    cate)
        path="$wiki_dir""blog/"$2;
        if [ -d $path ]
        then
            echo 'cate '$2' exists.';
            echo 'exit.';
            exit
        fi
        mkdir $path;
        mkdir $path"/posts";
        touch $path"/index.mkd";
        echo '1. <a href="'$2'/index.html">'$2'</a>'&gt;&gt;"$wiki_dir""blog/index.mkd";
        echo '
        echo 'done.';
        ;;
    rm)
        case $2 in
            cate)
                if [ -z $3 ]
                then
                    echo "Need cate's name";
                    echo "exit.";
                    exit;
                fi
                rm_dir="$wiki_dir""blog/"$3;
                if [ -d $rm_dir ]
                then
                    echo "remove "$r_dir".";
                    rm $rm_dir -rf;
                    echo "done.";
                    echo "Please rm this line in $wiki_dir""blog/index.mkd :";
                    echo "1. <a href="" title="$3&quot;/index.html)&quot;;
                else
                    echo &quot;Not Found This Dir:&quot;$rm_dir.
                fi
                ;;
            post)
                if [ -z $3 ]
                then
                    echo &quot;Need cate's name&quot;;
                    echo &quot;exit.&quot;;
                    exit;
                fi
                if [ -z $4 ]
                then
                    echo &quot;Need post's name&quot;;
                    echo &quot;exit.&quot;;
                    exit;
                fi
                filepath=&quot;$wiki_dir&quot;&quot;blog/&quot;$3&quot;/posts/&quot;$4&quot;.mkd&quot;;
                if [ -f $filepath ]; then
                    echo &quot;remove &quot;$filepath;
                    rm $filepath;
                    echo &quot;done.&quot;;
                    echo &quot;Please move the line in $wiki_dir&quot;&quot;blog/&quot;$3&quot;/index.mkd:&quot;;
                    echo &quot;1. [..](posts/&quot;$4&quot;.html)&quot;;
                else
                    echo &quot;File: &quot;$filepath&quot; Not found.&quot;;
                    echo &quot;exit.&quot;;
                    exit;
                fi
                ;;
            *)
                helpinfo
        esac
        ;;
    post)
        if [ -z $2 ]; then
            echo &quot;No cate's name.&quot;;
            echo &quot;exit.&quot;;
            exit;
        fi
        if [ -z $3 ]; then
            echo &quot;No post's name.&quot;;
            echo &quot;exit.&quot;;
            exit
        fi
        cate_dir=&quot;$wiki_dir&quot;&quot;blog/&quot;$2;
        posts_dir=$cate_dir&quot;/posts/&quot;;
        if [ -d $cate_dir ]; then
            if [ -f $posts_dir&quot;index.mkd&quot; ]; then
                num=2;
                while [ -f $posts_dir$num&quot;.mkd&quot; ]; do
                    ((num++))
                done
                post_path=$posts_dir$num&quot;.mkd&quot;;
            else
                post_path=$posts_dir&quot;index.mkd&quot;;    
                num=&quot;index&quot;;
            fi
            if [ -f $post_path ]; then
                echo &quot;File :&quot;$post_path&quot; exists.&quot;;
                echo &quot;exit.&quot;;
                exit;
            fi
            (echo &quot;1. [&quot;$3&quot;](posts/&quot;$num&quot;.html)&quot;;cat $cate_dir&quot;/index.mkd">"$3"</a> &gt; file.tmp;mv -f file.tmp $cate_dir"/index.mkd";
            touch $post_path;
            echo "%title "$3&gt;$post_path;
            echo "Date:"&gt;&gt;$post_path;
            echo "done.";
        else
            echo "The dir of cate "$2" Not found.Please new it";
            echo "exit";
            exit;
        fi
        ;;
  <br />
</em>)
        helpinfo
esac</p>
<div id="foot">
<a href="javascript:void(0);" onclick="gotopre();">Pre</a>
<a href="#">Top</a>
<a href="javascript:void(0);" onclick="gotonext()">Next</a>
</div>
<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"hit9github"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- Duoshuo Comment END -->
<div style = "text-align:center; ">
	<p>Support:<a href = "/wiki/mkdwiki">mkdwiki</a></p>
</div>
</body>
</html>
